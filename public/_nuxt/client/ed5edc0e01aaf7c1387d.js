(window.webpackJsonp=window.webpackJsonp||[]).push([[9],{177:function(t,e,o){const r=o(181);t.exports=r.withScope("nuxt:firebase")},181:function(t,e,o){"use strict";o.r(e);var r={fatal:{level:0},error:{level:0},warn:{level:1},log:{level:2},info:{level:3},success:{level:3},debug:{level:4},trace:{level:5},silent:{level:1/0},ready:{level:3},start:{level:3}};function n(t){return e=t,"[object Object]"===Object.prototype.toString.call(e)&&(!(!t.message&&!t.args)&&!t.stack);var e}let l=!1;const c=[];class h{constructor(t={}){this._reporters=t.reporters||[],this._types=t.types||r,this._level=null!=t.level?t.level:3,this._defaults=t.defaults||{},this._async=void 0!==t.async?t.async:null,this._stdout=t.stdout,this._stderr=t.stdout,this._mockFn=t.mockFn,this._throttle=t.throttle||2e3;for(const t in this._types)this[t]=this._wrapLogFn(Object.assign({type:t},this._types[t],this._defaults));this._mockFn&&this.mockTypes(),this._lastLogSerialized=null,this._lastLog=null,this._lastLogTime=null,this._lastLogCount=0}get level(){return this._level}set level(t){let e=0,o=0;for(const t in this._types){const r=this._types[t];r.level>o?o=r.level:r.level<e&&(e=r.level)}this._level=Math.min(o,Math.max(e,t))}get stdout(){return this._stdout||console._stdout}get stderr(){return this._stderr||console._stderr}create(t){return new h(Object.assign({reporters:this._reporters,level:this._level,types:this._types,defaults:this._defaults,stdout:this._stdout,stderr:this._stderr,mockFn:this._mockFn},t))}withDefaults(t){return this.create({defaults:Object.assign({},this._defaults,t)})}withTag(t){return this.withDefaults({tag:this._defaults.tag?this._defaults.tag+":"+t:t})}addReporter(t){return this._reporters.push(t),this}removeReporter(t){if(t){const i=this._reporters.indexOf(t);if(i>=0)return this._reporters.splice(i,1)}else this._reporters.splice(0);return this}setReporters(t){return this._reporters=Array.isArray(t)?t:[t],this}wrapAll(){this.wrapConsole(),this.wrapStd()}restoreAll(){this.restoreConsole(),this.restoreStd()}wrapConsole(){for(const t in this._types)console["__"+t]||(console["__"+t]=console[t]),console[t]=this[t]}restoreConsole(){for(const t in this._types)console["__"+t]&&(console[t]=console["__"+t],delete console["__"+t])}wrapStd(){this._wrapStream(this.stdout,"log"),this._wrapStream(this.stderr,"log")}_wrapStream(t,e){t&&(t.__write||(t.__write=t.write),t.write=data=>{this[e](String(data).trim())})}restoreStd(){this._restoreStream(this.stdout),this._restoreStream(this.stderr)}_restoreStream(t){t&&t.__write&&(t.write=t.__write,delete t.__write)}pauseLogs(){l=!0}resumeLogs(){l=!1;const t=c.splice(0);for(const e of t)e[0]._logFn(e[1],e[2])}mockTypes(t){if(this._mockFn=t||this._mockFn,"function"==typeof this._mockFn)for(const t in this._types)this[t]=this._mockFn(t,this._types[t])||this[t]}_wrapLogFn(t){return function(){if(!l)return this._logFn(t,arguments);c.push([this,t,arguments])}.bind(this)}_logFn(t,e){if(t.level>this._level)return!!this._async&&Promise.resolve(!1);const o=Object.assign({date:new Date,args:[]},t);1===e.length&&n(e[0])?Object.assign(o,e[0]):o.args=Array.from(e),o.message&&(o.args.unshift(o.message),delete o.message),o.additional&&(Array.isArray(o.additional)||(o.additional=o.additional.split("\n")),o.args.push("\n"+o.additional.join("\n")),delete o.additional),o.type&&(o.type=o.type.toLowerCase()),o.tag&&(o.tag=o.tag.toLowerCase());const r=this._lastLogTime?o.date-this._lastLogTime:0;if(this._lastLogTime=o.date,r<this._throttle)try{const t=JSON.stringify([o.type,o.tag,o.args]),e=this._lastLogSerialized===t;if(this._lastLogSerialized=t,e)return void this._lastLogCount++}catch(t){}if(this._lastLogCount&&(this._log({...this._lastLog,args:[...this._lastLog.args,`(repeated ${this._lastLogCount} times)`]}),this._lastLogCount=0),this._lastLog=o,this._async)return this._logAsync(o);this._log(o)}_log(t){for(const e of this._reporters)e.log(t,{async:!1,stdout:this.stdout,stderr:this.stderr})}_logAsync(t){return Promise.all(this._reporters.map(e=>e.log(t,{async:!0,stdout:this.stdout,stderr:this.stderr})))}}h.prototype.add=h.prototype.addReporter,h.prototype.remove=h.prototype.removeReporter,h.prototype.clear=h.prototype.removeReporter,h.prototype.withScope=h.prototype.withTag,h.prototype.mock=h.prototype.mockTypes,h.prototype.pause=h.prototype.pauseLogs,h.prototype.resume=h.prototype.resumeLogs;var d=h;class _{constructor(t){this.options=Object.assign({},t),this.defaultColor="#7f8c8d",this.levelColorMap={0:"#c0392b",1:"#f39c12",3:"#00BCD4"},this.typeColorMap={success:"#2ecc71"}}log(t){const e=t.level<1?console.__error||console.error:1===t.level&&console.warn?console.__warn||console.warn:console.__log||console.log,o="log"!==t.type?t.type:"",r=t.tag?t.tag:"",style=`\n      background: ${this.typeColorMap[t.type]||this.levelColorMap[t.level]||this.defaultColor};\n      border-radius: 0.5em;\n      color: white;\n      font-weight: bold;\n      padding: 2px 0.5em;\n    `;e("%c"+[r,o].filter(Boolean).join(":"),style,...t.args)}}e.default="undefined"!=typeof window&&window.consola||function(){const t=new d({reporters:[new _]});return t.Consola=d,t.BrowserReporter=_,t}()},182:function(t,e,o){const r=o(177),n={working:!1,queue:[],active:[]},l={working:!1,queue:[]};function c(t){return new Promise(e=>{n.queue.push({operation:t,resolve:e}),async function t(){if(n.working)return;n.working=!0;const e=n.queue.shift();if(!e)return void(n.working=!1);const o=await e.operation();e.resolve(o);n.working=!1;t()}()})}t.exports=class{constructor(t,{config:e,sessions:o}){this.firebase=t,this.config=e,this.lifetime=o.sessionLifetime||0,this.loginDelay=o.loginDelay||50}getSession(t,e=!0){const o=n.active.find(s=>s.instance.name===t);return o&&(o.timeout&&(r.debug("session retrieved, aborting removal"),clearTimeout(o.timeout),o.timeout=null),e&&(o.touched=Date.now())),o}getUser(t){const e=this.getSession(t);if(!e){const e=new Error(`Missing session for user ${t}`);throw e.code="nuxt-firebase/missing-session",e}return e.instance.auth().currentUser}startSession(t="[DEFAULT]"){return c(()=>{r.info("starting session for: ",t);const e=this.getSession(t);if(e)return"[DEFAULT]"===t?e.instance:(e.active++,r.debug("found existing, active sessions: ",e.active),e.instance);const o=this.firebase.apps.find(a=>a.name===t)||this.firebase.initializeApp(this.config,t);return n.active.push({instance:o,active:1,touched:Date.now()}),r.debug("created, active sessions: ",1),o})}endSession(t="[DEFAULT]"){return c(()=>{r.info("ending session for: ",t);const e=this.getSession(t,!1);if(e&&"[DEFAULT]"!==t&&(e.active--,r.debug("active sessions: ",e.active),e.active<1)){const t=this.lifetime-(Date.now()-e.touched);r.debug("enqueueing session removal in: ",t),e.timeout=setTimeout(()=>{c(()=>(async function(t){r.info("deleting session: ",t.instance.name);const e=n.active.findIndex(s=>s.instance.name!==t.instance.name);n.active.splice(e,1),await t.instance.delete()})(e))},t)}})}login(t,e){r.debug("enqueueing login attempt",Date.now());const o=this.getSession(t).instance.auth();return new Promise((t,r)=>{l.queue.push({promise:()=>o.signInWithCustomToken(e),resolve:t,reject:r}),this.dequeueLoginAttempts()})}async dequeueLoginAttempts(){if(l.working)return;l.working=!0;const t=l.queue.shift();if(t){try{r.debug("attempting login: "+Date.now());const{user:e}=await t.promise();t.resolve(e)}catch(e){t.reject(e)}setTimeout(()=>{l.working=!1,this.dequeueLoginAttempts()},this.loginDelay)}else l.working=!1}}}}]);